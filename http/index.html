<html>
	<head>
		<title>Monitor Alarm</title>

	</head>

	<body>
		<form name="createAlarm" action="createAlarm" method="post">
			Hour: <input type="text" name="hour" /> <br />
			Minute: <input type="text" name="minute" /> <br />
			Notification: <input type="text" name="notification" /> <br />
			<input type="submit" />
		</form>
		<div id="pending">
		</div>
	</body>
	<script>
		var pending;
		http = new XMLHttpRequest();
		http.open("GET", "/pendingAlarms", true);
		http.onreadystatechange = function() { if(http.readyState == 4 && http.status == 200) { pending = JSON.parse(http.responseText); 
			var t = document.createElement('table');
			header = document.createElement('tr');
			idhead = document.createElement('th');
			timehead = document.createElement('th');
			notifhead = document.createElement('th');
			idhead.appendChild(document.createTextNode('ID'));
			timehead.appendChild(document.createTextNode('Time'));
			notifhead.appendChild(document.createTextNode('Notification'));
			header.appendChild(idhead);
			header.appendChild(timehead);
			header.appendChild(notifhead);
			t.appendChild(header);
			for(var i = 0; i < pending.length; i++){
				tr = document.createElement('tr');
				id = document.createElement('td');
				time = document.createElement('td');
				notif = document.createElement('td');
				id.appendChild(document.createTextNode(pending[i].id));
				time.appendChild(document.createTextNode(pending[i].hour + ":" + pending[i].minute));
				notif.appendChild(document.createTextNode(pending[i].notification));
				tr.appendChild(id);
				tr.appendChild(time);
				tr.appendChild(notif);
				t.appendChild(tr);
				t.appendChild(tr);
			}
			document.getElementById("pending").appendChild(t);
		} }
		http.send(null);
		//document.getElementById("pendingAlarms")
	</script>
</html>
